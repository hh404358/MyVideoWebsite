{"remainingRequest":"D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\src\\directive\\permission\\hasPermission.js","dependencies":[{"path":"D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\src\\directive\\permission\\hasPermission.js","mtime":1710555744487},{"path":"D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\babel.config.js","mtime":1710555740230},{"path":"D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Download\\hahaha-vue-admin\\hahaha-vue-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkgewogICAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZTsKICAgIHZhciBwZXJtaXNzaW9ucyA9IHN0b3JlLmdldHRlcnMgJiYgc3RvcmUuZ2V0dGVycy5wZXJtaXNzaW9uczsKCiAgICBpZiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgIHZhciBwZXJtaXNzaW9uRmxhZyA9IHZhbHVlOwogICAgICB2YXIgaGFzUGVybWlzc2lvbnMgPSBwZXJtaXNzaW9ucy5zb21lKGZ1bmN0aW9uIChwZXJtaXNzaW9uKSB7CiAgICAgICAgcmV0dXJuIHBlcm1pc3Npb25GbGFnLmluY2x1ZGVzKHBlcm1pc3Npb24pOwogICAgICB9KTsKCiAgICAgIGlmICghaGFzUGVybWlzc2lvbnMpIHsKICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlx1OEJGN1x1OEJCRVx1N0Y2RVx1NjRDRFx1NEY1Q1x1Njc0M1x1OTY1MFx1NjgwN1x1N0I3RVx1NTAzQyIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/Download/hahaha-vue-admin/hahaha-vue-admin/src/directive/permission/hasPermission.js"],"names":["store","inserted","el","binding","vnode","value","permissions","getters","Array","length","permissionFlag","hasPermissions","some","permission","includes","parentNode","removeChild","Error"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACbC,EAAAA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;AAC3B,QAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;AACA,QAAMC,WAAW,GAAGN,KAAK,CAACO,OAAN,IAAiBP,KAAK,CAACO,OAAN,CAAcD,WAAnD;;AAEA,QAAID,KAAK,IAAIA,KAAK,YAAYG,KAA1B,IAAmCH,KAAK,CAACI,MAAN,GAAe,CAAtD,EAAyD;AACvD,UAAMC,cAAc,GAAGL,KAAvB;AAEA,UAAMM,cAAc,GAAGL,WAAW,CAACM,IAAZ,CAAiB,UAAAC,UAAU,EAAI;AACpD,eAAOH,cAAc,CAACI,QAAf,CAAwBD,UAAxB,CAAP;AACD,OAFsB,CAAvB;;AAIA,UAAI,CAACF,cAAL,EAAqB;AACnBT,QAAAA,EAAE,CAACa,UAAH,IAAiBb,EAAE,CAACa,UAAH,CAAcC,WAAd,CAA0Bd,EAA1B,CAAjB;AACD;AACF,KAVD,MAUO;AACL,YAAM,IAAIe,KAAJ,gEAAN;AACD;AACF;AAlBY,CAAf","sourcesContent":["import store from '@/store'\r\n\r\nexport default {\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding\r\n    const permissions = store.getters && store.getters.permissions\r\n\r\n    if (value && value instanceof Array && value.length > 0) {\r\n      const permissionFlag = value\r\n\r\n      const hasPermissions = permissions.some(permission => {\r\n        return permissionFlag.includes(permission)\r\n      })\r\n\r\n      if (!hasPermissions) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    } else {\r\n      throw new Error(`请设置操作权限标签值`)\r\n    }\r\n  }\r\n}\r\n\r\n"]}]}