{"remainingRequest":"D:\\Download\\sg-vue-admin\\sg-vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Download\\sg-vue-admin\\sg-vue-admin\\src\\views\\content\\category copy\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Download\\sg-vue-admin\\sg-vue-admin\\src\\views\\content\\category copy\\index.vue","mtime":1711274849605},{"path":"D:\\Download\\sg-vue-admin\\sg-vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Download\\sg-vue-admin\\sg-vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Download\\sg-vue-admin\\sg-vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Download\\sg-vue-admin\\sg-vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJyAvLyBzZWNvbmRhcnkgcGFja2FnZSBiYXNlZCBvbiBlbC1wYWdpbmF0aW9uCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVHlwZScsCiAgY29tcG9uZW50czogeyBQYWdpbmF0aW9uIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpZGVvVHlwZU5hbWU6ICcnLAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogNQogICAgICB9LAogICAgICBsaXN0OiBbCiAgICAgICAgewogICAgICAgICAgJ3ZpZGVvdHlwZUlkJzogMSwKICAgICAgICAgICd0eXBlTmFtZSc6ICflvbHop4YnCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8gdGhpcy5mZXRjaERhdGEoKQogICAgdGhpcy5nZXRMaXN0KCkKICB9LAoKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdCgpIHsKICAgICAgdmFyIHZtID0gdGhpcwogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hZG1pbi9zZWFyY2hWaWRlb1R5cGU/cGFnZU51bT0nICsgdm0ubGlzdFF1ZXJ5LnBhZ2UgKyAnJnBhZ2VTaXplPScgKyB2bS5saXN0UXVlcnkubGltaXQgKyAnJnR5cGVOYW1lPScgKyB2bS52aWRlb1R5cGVOYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcCkgewogICAgICAgIHZtLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsIC8vIOiusnBhZ2VJbmZv5Lit55qEdG90YWzmlL7liLB2beeahHRvdGFsCiAgICAgICAgdm0ubGlzdCA9IHJlc3AuZGF0YS5saXN0CiAgICAgIH0pCiAgICB9LAogICAgZ2V0TGlzdCgpIHsKICAgICAgdmFyIHZtID0gdGhpcwogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hZG1pbi9jYXRlZ29yeVBhZ2VJbmZvP3BhZ2VOdW09JyArIHZtLmxpc3RRdWVyeS5wYWdlICsgJyZwYWdlU2l6ZT0nICsgdm0ubGlzdFF1ZXJ5LmxpbWl0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcCkgewogICAgICAgIHZtLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsIC8vIOiusnBhZ2VJbmZv5Lit55qEdG90YWzmlL7liLB2beeahHRvdGFsCiAgICAgICAgdm0ubGlzdCA9IHJlc3AuZGF0YS5saXN0CiAgICAgIH0pCiAgICB9LAogICAgYWRkQ2F0ZWdvcnkoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYWRkY2F0ZWdvcnkvaW5kZXgnKQogICAgfSwKICAgIGVkaXRDYXRlZ29yeShpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2VkaXRjYXRlZ29yeS9pbmRleC8nICsgaWQpCiAgICB9LAogICAgZGVsQ2F0ZWdvcnkoaWQpIHsKICAgICAgdmFyIHZtID0gdGhpcwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbliKDpmaTliIbnsbssIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdm0uYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hZG1pbi9kZWxldGVDYXRlZ29yeS8nICsgaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwLmRhdGEgPT09ICdzdWNjZXNzJykgewogICAgICAgICAgICB2bS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHZtLmdldExpc3QoKQogICAgICAgICAgfQogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGhhbmRsZS1jYWxsYmFjay1lcnIKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgdm0uJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pScpCiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIC8vIOiOt+WPlueUqOaIt+WIl+ihqAogICAgZmV0Y2hEYXRhKCkgewogICAgICB2YXIgdm0gPSB0aGlzCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FkbWluL2xpc3QnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcCkgewogICAgICAgIHZtLmxpc3QgPSByZXNwLmRhdGEKICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/content/category copy","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\n      <el-form-item label=\"分类名称\">\n        <el-input v-model=\"videoTypeName\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"warning\" @click=\"onSubmit\">查询</el-button>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"success\" @click=\"addCategory\">添加分类</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column align=\"center\" label=\"序号\" width=\"95\">\n        <template slot-scope=\"scope\">\n          {{ scope.$index + 1 }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"类型\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.typeName }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\" align=\"center\" width=\"230\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"editCategory(scope.row.videotypeId)\">\n            编辑\n          </el-button>\n          <el-button type=\"danger\" size=\"mini\" @click=\"delCategory(scope.row.videotypeId)\">\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\"\n                @pagination=\"getList\"\n    />\n\n  </div>\n</template>\n<script>\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\nexport default {\n  name: 'Type',\n  components: { Pagination },\n  data() {\n    return {\n      videoTypeName: '',\n      total: 0,\n      listQuery: {\n        page: 1,\n        limit: 5\n      },\n      list: [\n        {\n          'videotypeId': 1,\n          'typeName': '影视'\n        }\n      ]\n    }\n  },\n  created() {\n    // this.fetchData()\n    this.getList()\n  },\n\n  methods: {\n    onSubmit() {\n      var vm = this\n      this.axios({\n        method: 'GET',\n        url: 'http://localhost:8081/admin/searchVideoType?pageNum=' + vm.listQuery.page + '&pageSize=' + vm.listQuery.limit + '&typeName=' + vm.videoTypeName\n      }).then(function(resp) {\n        vm.total = resp.data.total // 讲pageInfo中的total放到vm的total\n        vm.list = resp.data.list\n      })\n    },\n    getList() {\n      var vm = this\n      this.axios({\n        method: 'GET',\n        url: 'http://localhost:8081/admin/categoryPageInfo?pageNum=' + vm.listQuery.page + '&pageSize=' + vm.listQuery.limit\n      }).then(function(resp) {\n        vm.total = resp.data.total // 讲pageInfo中的total放到vm的total\n        vm.list = resp.data.list\n      })\n    },\n    addCategory() {\n      this.$router.push('/addcategory/index')\n    },\n    editCategory(id) {\n      this.$router.push('/editcategory/index/' + id)\n    },\n    delCategory(id) {\n      var vm = this\n      this.$confirm('此操作将删除分类, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        vm.axios({\n          method: 'GET',\n          url: 'http://localhost:8081/admin/deleteCategory/' + id\n        }).then(function(resp) {\n          if (resp.data === 'success') {\n            vm.$message({\n              message: '删除成功',\n              type: 'success'\n            })\n            vm.getList()\n          }\n          // eslint-disable-next-line handle-callback-err\n        }).catch(function(error) {\n          vm.$message.error('删除失败')\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    // 获取用户列表\n    fetchData() {\n      var vm = this\n      this.axios({\n        method: 'GET',\n        url: 'http://localhost:8081/admin/list'\n      }).then(function(resp) {\n        vm.list = resp.data\n        console.log(resp.data)\n      })\n    }\n  }\n}\n</script>\n"]}]}